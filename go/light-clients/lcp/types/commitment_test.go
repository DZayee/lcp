package types

import (
	"bytes"
	"encoding/hex"
	"testing"
)

func TestStateCommitmentABI(t *testing.T) {
	var cases = []struct {
		input string
	}{
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000e0e56e24eeacfd4a933dad44b2ed1f5f7a91dbe9000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001003c9ee6552447aaccb8ca1e106cef4847f6cc11a17ace9b986012f34ca4effb9a0000000000000000000000000000000000000000000000004660ddc755812cf1000000000000000000000000000000000000000000000000e6fa7dda4eb607bd8bbc8d7df90540b1700ef78e356327dd5fcde5c6caf08dee99601627ec4767b0000000000000000000000000000000000000000000000000000000000000000375732b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035636c69656e74732f30372d74656e6465726d696e742d31323139393431353630303536383530343236312f636c69656e745479706500000000000000000000000000000000000000000000000000000000000000000000000000000000000041b816814f4d805c19066e7116206fe174bc83e7eb455f285b5e1da8fcda1e2613b1dd1f9d74778dc6434096502313d9d037338c486856e0f10fe5e8241eafe933a200000000000000000000000000000000000000000000000000000000000000"},
		{"0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000079c1fd333487352a464972d185cded0f80e324ef000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000388efa223dbfdf1400000000000000000000000000000000000000000000000044e7fe3640641bcad5e8480a2c8cb0c9d153d705e98ad526fe8f961fe6bf3bc849c96a3eaf5e6d65000000000000000000000000000000000000000000000000000000000000000371554b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000033636c69656e74732f30372d74656e6465726d696e742d3938363034323833353335353637373130382f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000419af41c61767efa6a5a038d1df6121aa04b1b7901f7c068ce41e43eb9e79c09bc65142c92a0a3842b85c233a4d68c7acf300a49e3ba182f3679569b27e3835bd65600000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000d14e0a608a9143ff39be288ee14e7526ad50bc37000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001004f0ae4e2f428d4454dae58032ff9081232ee6a918464c3f3d5f08b5e9be75c80000000000000000000000000000000000000000000000000574444f8873661cd0000000000000000000000000000000000000000000000000cc979be9b5eb6bde39053d221ebf3c792369d6031daf4ec8d23a2ef36bc9ee00c0fd45fad4b894e00000000000000000000000000000000000000000000000000000000000000032a367100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035636c69656e74732f30372d74656e6465726d696e742d31363832313530313933313737383036303938382f636c69656e7454797065000000000000000000000000000000000000000000000000000000000000000000000000000000000000410e76e59dc88e23a247e74094f1dc7a462ab899bb62ec5c2ec0432522b42101082897aaa889a3f7d95c83faefab5f29c60736087680e585375c8022948ffec0028d00000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000fd6e1d33c750cdc92476a46d1924ae8c9bdcd894000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001004969df7c5f76f1cf6f1826a9432c5cf340ac3cd346746f0610b8cf1c8dbf0aec000000000000000000000000000000000000000000000000c14830c75d3a121d0000000000000000000000000000000000000000000000003987153ab2df8bded0ea9139b95c74c488f8d21e355d17198fc35f20594de8a524fd7a5a8374f4a6000000000000000000000000000000000000000000000000000000000000000321526a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d323335333139353231303039353635363631372f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000000041e9dfaedffa94310dc89762abb2174a97f8aac766426736df1266f84308aab57c179cf1e87087a12995009e27eeb292977829fdf4e800c821f2264fe6cd500ccdc000000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000463a0295ae26239f1469b10153d6c40f5816a67b000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000eeafc311f7f06c12c524b053ddc1709ec631f120d89e6064fa9232ed4eb7798000000000000000000000000000000000000000000000000ea336948b1fb57f400000000000000000000000000000000000000000000000037c5b21cab475287aefcfd05361996dfbbc7ce757dde782f605dcc94ec42f454ba28de97596f4db7000000000000000000000000000000000000000000000000000000000000000377724600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035636c69656e74732f30372d74656e6465726d696e742d31323139373931333637343932373930373030332f636c69656e7454797065000000000000000000000000000000000000000000000000000000000000000000000000000000000000410fd5c8a6891724463cffdb820a444901a3563afb81e79f4a49233b5f9465031a28c2507cf5d3bff92ae4fac19bfcfc52836e83a87119ad286dbf47df288d111a1300000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000ace88a0669657afa01885ba51e4e27e00a79169a000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009bde15723b5ee8e1000000000000000000000000000000000000000000000000a2c625bd561a7df5483029dd9aa96766070314c6bfc157a86ea8f5ef4b2828e642d72adba3673cfc0000000000000000000000000000000000000000000000000000000000000003304b6500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d373235323436313336373938313137373931312f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000000041aa9ec0c6db6f7a258a35124b540c845d9bbad16399d87902b0d496fc75df8733532752a96f6bbb195df189da510bf661d8fc074fc7e7ad3a415db3d80541ec8f1000000000000000000000000000000000000000000000000000000000000000"},
		{"0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000094f00d78c68fbdcbdd4d2f6842375e4f873c247b000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000798b47078bca4bcc00000000000000000000000000000000000000000000000045f313b40213c6030cae16aa7e04377bc40e479651719f9d8a4a8b068763d94f743941d8b5b7a6020000000000000000000000000000000000000000000000000000000000000003386b6800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d373233373632383033383631343737323635382f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000000041182a28f8d880e7e388233e9692bc0d4d6e61a6e08c6e143fad1b837bed7e29b75303fdeb31c52c284be8f2ca6a12daec098fcf15d256811145dc34766d96e1c9f800000000000000000000000000000000000000000000000000000000000000"},
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000003f1bf8b047fad5222312ed4df89f276a9b145209000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001001b1880d32af3f70f6239c1d660472e42c254a40c4298d68f5b8eda4c50a247b9000000000000000000000000000000000000000000000000a42d2f413072345c000000000000000000000000000000000000000000000000a18b79bc897e75381822bd3e6958a717034ab006e951ba299cf2fa72bde3cbda17da2a066abb9b7e000000000000000000000000000000000000000000000000000000000000000344516300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d343639383132353038313136393530353638382f636c69656e7454797065000000000000000000000000000000000000000000000000000000000000000000000000000000000000004102056646df925f2246b2643f4a8f19f590f8703407aca9445414c9978211ecfaf91991a81286fde884251e17bfdce15655ceff7510b8186599c0394ec23eac5a6500000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000ef70835dd4e7a20563551484a3f58a7eed2688f8000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001003514f6094942fd50dd8a94c612b11e196f064ffaee37262a8f645ffa27570536000000000000000000000000000000000000000000000000914ef1ac146e155a00000000000000000000000000000000000000000000000005aec2fe9a5348eb315ed86cb91c03ed2c948645727fa941a31cad612932e24aabc8326b110992b700000000000000000000000000000000000000000000000000000000000000032e5e5500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d343330333130343531353936343036373939322f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000000041f1ac4b0621dc7df0a491b0f906d0038d7bb988cba54811a5a85387e703393d3dca26d24be5bb3fcf00d8c68096367e4f831bdeeb05f0a3fc88178bfff98ac16a4600000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000a055f1710d23715ebf10c917f1f5a44ef3bb5f14000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000095021d3683b33cb400000000000000000000000000000000000000000000000050bb1550f157660e0c4e7cfe811e5bafcea26783a364649786a76981614f80bd545e559e4092cff70000000000000000000000000000000000000000000000000000000000000003256f4500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035636c69656e74732f30372d74656e6465726d696e742d31363131343735393938373333343333393531322f636c69656e745479706500000000000000000000000000000000000000000000000000000000000000000000000000000000000041b9932df75803830309835803fdbe115663b17aefa4b9bb35d7968f093d8087b4a644b11697b08b8b5ba87fb767ad2ac283edffcaeac239b946db84588672d1688600000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000ea2413b49c4a0bc09daedcb3a508997de654ea46000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001009161e012ea1cf79b87ed7c9487d2518b0626997f8ed3244f61e5b635afb27da000000000000000000000000000000000000000000000000072bfe9ee156bfd4e0000000000000000000000000000000000000000000000003876b519dece21a286c896643f0c349c70b51a86c845b83254c90aa4eda8ad917257d2a31f2f581e0000000000000000000000000000000000000000000000000000000000000003727e6700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035636c69656e74732f30372d74656e6465726d696e742d31343638343530373539323534363230303039302f636c69656e745479706500000000000000000000000000000000000000000000000000000000000000000000000000000000000041ee1cc86c890fbf6cb142b0e521aa9977709e04a01a1101eb301bacb9861fcf6b435af1589e71b3db94ceb8e7ec6e939aa3ec69227494419bc2680a5a2113d154dd00000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000b11f8b4df2a0663c2f62667fd519971498f74b85000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020f40a9fd6926ada0000000000000000000000000000000000000000000000000d1f49c4cbabb759a2dfd2a5dc9ab1e777fce5661b1a882659aa22970710bd5dfc2525599b60789300000000000000000000000000000000000000000000000000000000000000035d362800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035636c69656e74732f30372d74656e6465726d696e742d31303238373031353830323234343736323937302f636c69656e7454797065000000000000000000000000000000000000000000000000000000000000000000000000000000000000417b7bd4f0cdcb260c97d94cee127921c8216a9c2f776a7ac47680ad511745a9c7e115b2cbb677cb436e456298ce1861da5ae4d7a9b16c53dedc5cbd1f093334eaf400000000000000000000000000000000000000000000000000000000000000"},
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000005ca21100592b582b6d3b7c302fa788c6ee88ba85000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000010024f391f0bb5f3341ec2a5fe12ee47abc27edadb8e4b359ecf9542dc4a3a1223900000000000000000000000000000000000000000000000075a1ddded1de54f5000000000000000000000000000000000000000000000000d62ccbbcb3515f39b1d8a167afa72293a029298b91055e3b8ab648971e3ac23fe2522f74f460426b000000000000000000000000000000000000000000000000000000000000000362795400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d393335303131383435373734313636393137352f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000000041f072ff73e076baf42934bf8430614ecc7df507ef7a8aed7e9c77740a262e25a1e4864136bc1ee7660086e2df8f3ebcd2db09422d3dc88d9c9478a4227fc62a365600000000000000000000000000000000000000000000000000000000000000"},
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000c94606cb71c0ed14c2a67d72f6da9a4dd851b91000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d479e37d35b941be0000000000000000000000000000000000000000000000008ea3f809a62ab3f8908096a275043052f9aa26a1fe867eaeb63faabac12cb03e787a5148238bb7ea000000000000000000000000000000000000000000000000000000000000000326376300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d313739313733363137373337373633363835392f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000000041e4adb7b473fb4a658ae44281183db22195113a45a5d1d23d4d430332acb358f63ae62500c1126e1539b66b68c985fb27838dd14c8296973cb6a8558f28059398a600000000000000000000000000000000000000000000000000000000000000"},
		{"0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000068ef6189913bb51c61b5658a49254a570f8cb7e6000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001002b74ce38ec93c98bf92ef2a95ae2733a73ab3fe1a78e439066aed15853cf9b9e000000000000000000000000000000000000000000000000ee03b6386d87be2900000000000000000000000000000000000000000000000026187e4cc674765fc0b2085110877cc1c4ec428fac37b5a5ab128261f1fb61bbe4764ba82440f86c000000000000000000000000000000000000000000000000000000000000000335596800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d383331343137313430363236373936313739332f636c69656e7454797065000000000000000000000000000000000000000000000000000000000000000000000000000000000000004156839a30331537c6afd2d466bede065a6b0dc4d013e9b2c53a9b8bcdd53d0950c7a71bde29221169a0e7e2023cca9d969aea738d99d77d52cd542fe6c66bf415b400000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000e43e926bfafbeb7c354c6b789e54e41f3d84e05c000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fdd11e959e48393a0000000000000000000000000000000000000000000000001ff295ca26c012bb4b31e5e0e0d5fbbfe588fbc81ce3acab7dd004419f113f0c93554df93318b7da000000000000000000000000000000000000000000000000000000000000000324382d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d373831383138303938393130343038323938312f636c69656e745479706500000000000000000000000000000000000000000000000000000000000000000000000000000000000000414bd57dbfda2e11cfcdc462731c72d3220d4ab0c0386f066f3bcafe03fa18171c78297f881dc77f261d993a7bcd657cbd08699ebb898a659a867439be49fbead25700000000000000000000000000000000000000000000000000000000000000"},
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000001e57ac20c9fe57866fe236bad6a7a4e2b45d61dd000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fcf7a499332c5ea800000000000000000000000000000000000000000000000042c943535f5098d6a2629ada19af6992746efdbdc8c8c605b7f3addaa0522b8910918d7a769e55fe000000000000000000000000000000000000000000000000000000000000000321755100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d353833333631333037353434353339303838322f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000000041b83cfa08b1a6ca096f2d43298c4851787f6a38e97f3e485e19520d206d44934415699135a83f5dc9c073f6b73a8bed5d35cf863f8e3e3e25f471efbe77cae306b200000000000000000000000000000000000000000000000000000000000000"},
		{"0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000084465dff0399013db0c5d7561a97465f919a9936000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003156c420a1afe095000000000000000000000000000000000000000000000000e6805d9de940fa0c05624299077aaf1cd0c7769090f74a64cb0f7e076562ba1edf08809841df56d8000000000000000000000000000000000000000000000000000000000000000339396600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000034636c69656e74732f30372d74656e6465726d696e742d343532363730333833393833323931383636332f636c69656e7454797065000000000000000000000000000000000000000000000000000000000000000000000000000000000000004123f23375fbf35c5e90ba27b3e47885589185813cb266f8fa9cc2c59c13f18d702c22598f78ce64e27df4675caf8a2870686fc77eb5fe46f26ff64df537c4fb8cb000000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000c243f1c57900875ff0801174cdc9750fdfa14e78000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a7feb96a17d92f9b0000000000000000000000000000000000000000000000003f074f51a3196776b49ecd0f9db8c06cbc93fa52a885892ae657be68242f7798553a1e41003cd1a000000000000000000000000000000000000000000000000000000000000000033f4a5c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035636c69656e74732f30372d74656e6465726d696e742d31303431353232343935303736313839383839392f636c69656e745479706500000000000000000000000000000000000000000000000000000000000000000000000000000000000041d8864892c974808050dd133a6fd9c934d2dcb5d3035ea1515ba2b5521037a18472d90f4cb929d09fd5bd58061aef3cf48254893ec24d7fa6b13f480287df1b63f600000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000d40eac82adb0613f5faec5a9af6400ed6f4271ed000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020000100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070eb187e248dc27a000000000000000000000000000000000000000000000000af1b49d8977c9d6b0f90cb6b80e5d0e89d68599299582eb13d2a5f70101207d7a63dbbdcbcb13e4f000000000000000000000000000000000000000000000000000000000000000332504d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035636c69656e74732f30372d74656e6465726d696e742d31373039303631353834353637303533303839352f636c69656e74547970650000000000000000000000000000000000000000000000000000000000000000000000000000000000004102e1b4bd6c8f71dbf0047cfd0beb65f6c1306cd57f16a10be1540fd2c4c0321b578d3299ca15a3d8aac7d7efda23ad1421e69cbf1419e5a838cf825b8579cc205c00000000000000000000000000000000000000000000000000000000000000"},
	}

	for _, tc := range cases {
		bz, err := hex.DecodeString(tc.input)
		if err != nil {
			t.Fatal(err)
		}
		proof, err := EthABIDecodeCommitmentProof(bz)
		if err != nil {
			t.Fatal(err)
		}
		bz2, err := EthABIEncodeCommitmentProof(proof)
		if err != nil {
			t.Fatal(err)
		}
		if !bytes.Equal(bz, bz2) {
			t.Fatal("pack/unpack failed")
		}
		hc, err := EthABIDecodeHeaderedCommitment(proof.CommitmentBytes)
		if err != nil {
			t.Fatal(err)
		}
		_, err = hc.GetStateCommitment()
		if err != nil {
			t.Fatal(err)
		}
	}
}

func TestUpdateClientCommitmentABI(t *testing.T) {
	var cases = []struct {
		input string
	}{
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000001d36bd01065db33291876e2865c16f3f8df30ad00000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000028000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000020561d6c240f28f2afa349d0bd22ea2b311bebb356ee56aee21d57615787ed2f119eeb47d0553bddcaa4953cf76b150b7961d180cbe9a91c434a2074d97f36e25000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000008277a9af43d5ab2f00000000000000000000000000000000000000000000000078bb7f59ca14003f0000000000000000000000000000000000000000000000006da337b3e9269a2c00000000000000000000000000000000000000000000000010eef412c2745d410000000000000000000000000000000000000000000000001777825ca424c08a00000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000000530a012f124e4c794f7bae2eb376fe7c3cb774c4eb1832d37b929a83a25b6cc69987649ccf1f1b4c61647492e5c2b9e40a7d75c9ce14cfe884a0c80f0311ce414108d9a62aa4a604e570fbac5b6a0d98e0c2aafb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004112b38181a05284099e8c2c21ac476f8f296a5c5616379be21ed03dc390b88e78d4e02af4b56f06f072d2b3b1ace06567188db814e83ddb68d370ca0c7884b5200d00000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000d2f19b45ed1ab4e56eaa7d7d301df78bb6770b5400000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000020a319591feeae256ba07d58a183f566f75bf837b29ec6aff66ea73d2add5280ffc8c2457398b49a28a28342cb191e74cad074706718d4777d900f81d4ef317b8a0000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000d5b5cf7b622b2679000000000000000000000000000000000000000000000000f22f880e441071c6000000000000000000000000000000000000000000000000a941e56e98a953130000000000000000000000000000000000000000000000001fc9c6e0a70440150000000000000000000000000000000000000000000000001777825ca4257795000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000410fe4995deea8ed57d69d120f94beff1ac8ad520471c7781c06279ab80926f6d448187fec7a5d0d17a9c39d12634d73530fe4895372ad2a8df988f361fef4b9d81300000000000000000000000000000000000000000000000000000000000000"},
		{"0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000070439f91b71fc9887f90be23cb7731d157265e0f00000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000002084f72c558f8cb9938a54014877116f48a6731ed29273a3138254b572e0334d1153b557d27459676fdab8b5a2c3ed31d8a0a1cbe957d8e404939b23d8e83578460000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003d81e383e587349d000000000000000000000000000000000000000000000000838f7af521732f750000000000000000000000000000000000000000000000001777825ca425bc1c000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000414159d672d77a61a696c47b8af6c2078f913ff3fe427aa7eb665b605d468a1c76ba69e6c842435f1cb13a7cff7013bb806d5c53ef8ee5129b730a86dbd12afae10200000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000a8aeaecd25d85a8849860db25d8f4a4ebcc4774f00000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000020d1ee8979f331b085adac8c057e156a4b95265c1503f78538b3ab36adb216d16ccf12c081c286e15a6db38e314683938407e200198cf26e68676886012e5354520000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001c7c39aa490e228e00000000000000000000000000000000000000000000000071e608ead8388e780000000000000000000000000000000000000000000000001777825ca42a0ce400000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041ed83bb6e03cb05f4aa15652752e6429efc057f9a56fa8d9233b4f1b48aeb67546328dbb155263d5a0d0c9cd26b301ab5c614ec189a960124cada833f930062b05200000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000752c1559bdabadde285a17289ed454b19ab4d2b800000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000002073d744620f78f4a5d189181e1681e9389b564e96911990e1f071aaa56d0b7568275d6c509078f1e7655d1a74100dae2b289c37650efcc7b41cfe81ea2467206a000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000043fad6890bddfd41000000000000000000000000000000000000000000000000b6b142e50e52860f000000000000000000000000000000000000000000000000c4a73c9d6782290c000000000000000000000000000000000000000000000000d51dc3dbf46f05c40000000000000000000000000000000000000000000000001777825ca42a81a3000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000417d30a6cc5261cb10cf32e8db9d02f03fbc780d1b983f3c74c274a8f34f3ed00f72b1d3971ab968cff90af42d9c3ab3eca8f15357201fed4412971d99b434a96a9100000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000cace0cfb8fb082ec3b83a8ac2459afad79383b9900000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000c0ab4c73cd29892f811fbcd65ec556f3538d29c1d0f382528d01aaca9dfed7c900000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000045ca8ec35397b4e10000000000000000000000000000000000000000000000001ada7549506f6ac90000000000000000000000000000000000000000000000001777825ca42ababe000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000418bce2e7675d9700adf0d5a1ee0c7a3aa0c321fd8b8877933b429ac65168c66ab739ef582e6a39c54abe87fc0a8d36f9cd504b44eab521dc8ed5e69aa87bc1657af00000000000000000000000000000000000000000000000000000000000000"},
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000001d13065db440dfa33a48fd359f0af0f1a2c4fd5700000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000020543e5331972693fddad67fff9fa3be8558835d5b6b0333cd2c90e58e354c6b7f0eaa3492216bda65f222ee6c036974bbc0b7519cf9daced536c48c533b781c2f0000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000ba263238d924c71500000000000000000000000000000000000000000000000025750287373d7582000000000000000000000000000000000000000000000000c498d8e40ad91f18000000000000000000000000000000000000000000000000cdf23427520a6bd00000000000000000000000000000000000000000000000001777825ca42b1e6d00000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041258ddb5eb80830e64e9cd3fe32f79b44ce7d9cea9d564c458784bc91933d02d5bf9d06bc24df356baa4fc8dc20abd493dd69a9f70054073912317f2b53d57b174200000000000000000000000000000000000000000000000000000000000000"},
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000007121fbbc671963399f95f0a2c2ff29f0f3a0784200000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000020974ff089a56e73198f8e63ebe41a507c1e90bd3aebceeac83f64981ef8eb5955863d6ce62ef65cd57ca1c8b45735cded7fe1da12d13bc31c3c0970da23aacfe70000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007ca6c4a1146a2717000000000000000000000000000000000000000000000000de9f8c47d41cefc30000000000000000000000000000000000000000000000001777825ca42b5e3100000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041211b65f5acf059c15c53ed8c81451b509078bd262a888020a31429c3464652dd6f19fb9a85c7f9ee48edddace077728888ea03ebc42844e8abe5468403e31d3b7900000000000000000000000000000000000000000000000000000000000000"},
		{"0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000062ab9a227163630b76ec51d1c3d977fa0de8fe7400000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000020bf41839f60e612a7a42d22452bb0df39e90396e65518d5b1490685ba1548decb0a7379f61766bd9bf2c46e333951af414c7d64523d9101fa33baad2f8f36c60100000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000003e90f5c4e7c02b420000000000000000000000000000000000000000000000005b48bd7e4f7f8ed0000000000000000000000000000000000000000000000000f186ee420642df4b00000000000000000000000000000000000000000000000054481d61de549b410000000000000000000000000000000000000000000000001777825ca42ba31900000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041d243085d709fb10beb13a0e6352a35aa15fb02b1c3cd026a7888780dfc2176202fff01bf06f9b1aa8a167cc235f41b20d8bfd0088329b51f23292fc5e4c147c3e100000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000bc666848ab21db81504dae20fdbb6f7359a459b700000000000000000000000000000000000000000000000000000000000005a0000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000004a000000000000000000000000000000000000000000000000000000000000000202cb57cc45ba8d74a2e6865bc54993036611aecf5561da697012f18b087fa5ae2e1a535f10251e69df28777637404ebfbaccef79bc98aa06f730fd6497706c6ff00000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000079b12f8259cd30a5000000000000000000000000000000000000000000000000aeccbc7ee1304bf10000000000000000000000000000000000000000000000001777825ca42bef51000000000000000000000000000000000000000000000000000000000000044000000000000000000000000000000000000000000000000000000000000002fc0a012f12f605bdb6cac636c2d5bb3f5189941b74dce8563a85e8dee186ffda71c2746be61b951c1b2fbccbd8675e16f8eb017cf49b22ea58547a3ac5c4ecbc8104811c747e7a16438d93164350bd98faea91d974129363422641a8c27d0b234952120c71c619fb1a56188434a2d3c54c8f452245934c9547f0d4382af2a0519ea6bddd24e9e2841995e725b9bf3f23ad1be526584a45857ced342ba0e9b1dfd0b9f7b353a98cdc37895ce8592d2631456b8dc14f573e0efca19cad2a716e3e81e9c9acdc453beae3266dbfee54e755e836ea636d064b433948a866b71f7bc763e9867086d34630a728ec3cdd38e2f00f04196822ea9a7443f024d92af95e8cfda3c61543efc1ba142f054d2160b4e5be7290e30577e60993ff13955f60dc929315dad246c8a10169b3ebd1a8980c35bee892aa578328c01cde7c33f5efc63574044e05ae6cd910be7dfa7dbc282a20ae0b7f97384b8c04b769d902117dd2195de0ac26fda2ce32389ddba1d1bfdd9694716682a9ef70382f5370f59c416422e19c118a99d67ddb62ddbe2a8650731e7415c95026330d4225ae78c47e78560c169518cab21a4aa9eba60ad04c824b1a45f0d38534ce16d088b414d6775a365d640f363dcb2b173b7adfd26745e493254e0471eeb475d993de46f97076cacdfbec49bb116cc2af4e6a80e7af3b637d714c8be0fa0866166768745fbbb1a81b47976ae258833280524d32900505ee2559fcbd0baf861419ab93fce2c6034e8082b33523d2d71845cbe20fe12b28ab0993d598ae1d7c281daf41c71c5900917c61ed6a3d5fe061cfc6debc65e8320cbf3fae92fc63da45a0451f1b831baa4a95fbadc3333436b4bb74bfedb673fc5a706da4aff8fb5e21174dbff29f34f6cb9da75d03bda44405334945e5d0d5e95087f35eb80d47a13c68ffe6593edc768d6f074e2ff0efd77e2e4b28dad46375badd3ae760e8270ac9a02cd2fa2a575e29b7cdd12bc240938a84620902cf9b54a6bcfcb00c15ad5c7235dcbd434538c04da884eab8717e0c9bdb150dc53dcf4482a4f6491b10d1dea620cbdc95854918000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000410ebf569bc79080fee46283be4787fb6f778b254c09a35cb7a42a04c3feed81af6292712d8c2b6d00e1da801cfc044716e30d75338e97b724e3ec7d0fa04172166400000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000d22b63dbe152ba43cc568b47327473da8748eae500000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000002c000000000000000000000000000000000000000000000000000000000000000203e83bbec897a650f364d527b6e429c3d2838973bdee890cbf4beac9d59e45fd93d0283bf2c5a1134df14337f8e43db7627a14f0873cbf927a4c38074f532afa6000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000081456e6d1c9121ae000000000000000000000000000000000000000000000000faa411b27e4e07140000000000000000000000000000000000000000000000004bf94c8de60adabd0000000000000000000000000000000000000000000000000e900e24ea4e35960000000000000000000000000000000000000000000000001777825ca433d7aa000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000001080a012f128202d6a80f4a8c9f2420c6360c0f92f2d69a16f2ec8ee998ae5771e6b4e76fe13b116db48d153a6d0d00dc3ae7bf20e19d04467f0fb78510c5f4456b56143a44eeb532202a56090c8ff5d33126beeb9c0a622ab7c8e37834fdf3dcc36ab06c764ff183d60d498f72cd0b0d3ae6584598385e63cdcb63406939c756fe4965b8a0d9689aeb15e188e96294d36b9e31e308b8fb4e8dfcf46f63648df233c265cfdef17c436bde1f892ce0dd38f20c1ae3ac31dd8bf7ecca9fdb89db2bc2666a211a77287eb71613147148a9ded65e929d4ff90736ccdd9696604453704ce8f312dba2fb4795aa6466d2c267d1c93f78b68b5095342126d355611b8ebb3e99a7d42f30e62990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041bb5f983f9283a25f11cc315f194c81ae7a83c1b640a0febbb2ffd6144d6d07cc7b402654cf7d13605bbdbcffccb82391a5116d9073d221e1604d39946554dd893300000000000000000000000000000000000000000000000000000000000000"},
		{"0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000006000000000000000000000000046f6a335d8c4efd2aa7dc882db20714d5283102100000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000020a891423043e34de5f6d6639717d2b39a3bcf2532bb54ef70893f3d0e56f8e75d53110124ad66c86e1067c2c40ec2d7a0cba25046f17a9e5386a852fa823120f5000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f48f4b9efbde36290000000000000000000000000000000000000000000000001c206e29711d132e0000000000000000000000000000000000000000000000001777825ca4343adb00000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041d1ee050db99cf375eab97e1aef4ea31c3418aaa5fabbad88e7022c15abb73758529fbf278adf9b62ca52fc0ff709e2c25502d175a408ae2097175d2abf844c1dfe00000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000f678467efcef8a6ae85e2b8ebcb2fe6878cb31fd00000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000c0f3cf12f24df6afaac226f0920b84d6317aba3818caaf77d9512cd4a89b4b850000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000dd5df2c3c7757dab000000000000000000000000000000000000000000000000a839bf5c89981bcf000000000000000000000000000000000000000000000000d7d4d076ddc76aa3000000000000000000000000000000000000000000000000955ace543f41dd8d0000000000000000000000000000000000000000000000001777825ca434712200000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041b0ceab3db603cf2ba5661552d4cf302bfc023a6394c0978f10faa9748f9fab4ca59c720a334f68bf5f434225ff4f1160109f106d908b29fb4fee1e072f4d61310700000000000000000000000000000000000000000000000000000000000000"},
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000001f88279c9b6672b07376b1f9454042503e778c7c00000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000007872ac637a38a2772063e8c045bcf45431039daedfe1287c4a6c62e17e29c0ef000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f70945d3d46b7c480000000000000000000000000000000000000000000000007d54bc2af26bd2770000000000000000000000000000000000000000000000001777825ca434dcf800000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041bcf1f64edec221e1ed29c84498391e5985bb453cfb45190d2897684d3ca51840d8466fcada235b598d2e57f1b5fdb2d052fc208364c8e9a26b93cfe1540283a0df00000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000b0034ddb1b7ec0c34cdd36b5e2a9efaabe8b12c200000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000008546aa6b1b971450a31f4a901bba20e7383856a9f0936619e00b64ec00695f7b0000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000ee237672a40e7ef40000000000000000000000000000000000000000000000004fc77a8e75354b610000000000000000000000000000000000000000000000002b5daa06156488dd0000000000000000000000000000000000000000000000008003e7b8b98bcbac0000000000000000000000000000000000000000000000001777825ca435479b00000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041c7282f14ddce604c84483530f89e40b2b3cf712529ad7b29547f2bf36c0b22df25f201872b8802fdf6164f9c5421e44192f45e1b22c728608da96f72b222c248c500000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000bc961d72740e0d813bc5bc97640a6edf5c7f27e30000000000000000000000000000000000000000000000000000000000000680000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000005800000000000000000000000000000000000000000000000000000000000000020eb78041d327d98e3bd43d2347cdf3724f2330fc7b134dafbf11660d88035497370c7fa4557041ac051a65d8c5b66ea05935b01813fdf1a03540246f68c71a2b1000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000dc97190a754001700000000000000000000000000000000000000000000000002b09beed315647500000000000000000000000000000000000000000000000001777825ca4358f86000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000003d70a012f12d10797258d5c6aa2ecfc474de7ce46acb0b2c5eabae5f73e419e457881be9f723d8ea2051020f1eca15c320943f61c7f30a09ee6b08b4f21b9649983f6f1143b2f7b1d4d2056b60d7d378528cefd029edd9a2bbb4152377057d03efbb4e117affbd78afee87dcf8828f8671f1e0a42dbf00b5bea267675e57e5faed1d8f5ee6a4581662b9570319a5c21146bddb1be190e80c6f7429bc28c1bf4bc47f94f2d39033efb3aae39f1a812b30848b5025f01a7d9efdb0693644ea68d144d549c3bd569250beb0f60054be56eb44aa191414b2d86083789188614b7a18a519f0925d503009efc2c048808ce5b876bffa15215502a203dc09867a5eed0a73c6258752a33ba52a1b907c39b749ac4c3c29877b4e3d9e2cfc07e34e1131e664d99f5e0dcba74b2948626943880cc6909d02bec222793c2f1c08e6eda7d48d0a4da6ef4132f966a8426b6fc7dcaa594343881a97db10068c90964307bf61bd17d5e638e6d0e47a9b8af7c8c59fcbcde90bcd2ea84a5fd1bf136ce6abb704e7502df72b3cd84538f73d79baafa226248a8feba31247b5a9a7e184a7e0ea859d36f5236415ddac219005887c118cb60ffcbc851cbf54e70e179ef5e7b007f673d07636efaf83096fe0e2ea2e4dd0ae96bcd6005c7ff9ce5317c37eb73905808ac66ae46df5d6094744792fb5da4aeb40b8ea2e6d851fca257647cb6f5f75bd2b93f860a72daf9cfbf1d1c08158ee8f4469fcea3b19632fcb1f735800c30757b80ceca9bb1bec6d79f334d75786263fd02a74fa919e94e23d62211250394c6bf55787b8f26257abb2eae13cd3d2c67ca127ec11a67eb1c9cefc40bff3953668879671d6ef97a587d474ca9c7e21cd9dbcb8cb270ae74b8fec1398a928752c28a6d368e4a11d4f5450d1b21d04fc62e97f5505e5e8ef8182abce49c8f75eb14a50857b348ac503ed72157a1082c15497dcb65f2b09fd621f9e2a0e009de0fce37783378e5c7d4ce5b82f06e7e05564890d6754dcfacc67dd87baa662c5b619060887b5ce8ba62b2ba7dc46208eed892253ab7db2532fe6de1c058711ec88269cc519b7d68e813b9c565ff7b88e5a1390aca24e388bcedec7b2239a432b9cbda3646f0a885c264329892dc84a685f6ced2173adaf35682dffc7d1588391d1a09dcb2d96875e98dbf0b7a4c4ef0e25e0a72483ca2040a494cee7d31c533a7a5abbc7800c53864f888875bba76aa93d2b2993baf7aaae3438c63f6dd6d48984d2c0ee3622f47c9f50edf822258cea835bb1b639b82932e56183443d68ee0dc532b7e0688e09cee934fa91d6a6f3c428b34aa163832500bbff1009e2a808f17b377bf29a8214e6777925ba7f1c8b23207290cb20587b927016e88c9000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041db43b364feae16af52aee8f32f5ec51e44a8151ef7942467fe783218f1f47086030739b5c4dc97861fd05f69620fd0f58af6e5a3a7387fb55680db9d7e21721c5500000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000bef3859ff7cc7d4cf9dd6e427fe69ddc3692371700000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000000203759a8af4434ea8cd2f16433efef80c3755e016068e77a06a32729cb98c65436cce5eef1d1037a958417060466a6b27cf81754069d4f477d66b444e7abf0947c000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000017bb82863869c73b00000000000000000000000000000000000000000000000072c7521a5fdd299b00000000000000000000000000000000000000000000000083fe07e68f3e7624000000000000000000000000000000000000000000000000b2f67323c37178120000000000000000000000000000000000000000000000001777825ca4363e430000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004136e30cb3aacd1e38099b243bc9566bd057b3954cef6e4665f6bd35988bb98e14e282140a6c32561258ccacb0d20206bd6b86bd03fbc46d8cc51ad840cfe3290aab00000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000c9061d3085f255e4788ddbd62e92cc61db86da7400000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000d98c2d5b5e0fd2aa1e91a25e635c592cdc404ee597112065faea5877638c5ca5000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000860750ceb1e5983500000000000000000000000000000000000000000000000068d7e1ce4ca39a6a0000000000000000000000000000000000000000000000001777825ca436b73a000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000412891a28a2fea73f3bf1f39b86e61376a648a5d8296c9337e53f02a9aaff38811eb7a24750e8c0a5d51833937bf2456ee161b7796bfe96dd60dba9653bfc210f41100000000000000000000000000000000000000000000000000000000000000"},
		{"000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000600000000000000000000000001efa4ea70411d534fe58940f52b07d3f0a052eb900000000000000000000000000000000000000000000000000000000000004a0000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000003a00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000025ead5ae82e322e35cc85b87195d8a273fe0337b1e9aa2bb4bf3730133bfd17c000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000076a977de5ae7c8f5000000000000000000000000000000000000000000000000510caefb9cdf615d00000000000000000000000000000000000000000000000048de273f17faa025000000000000000000000000000000000000000000000000e8ce0cbfbec58ae20000000000000000000000000000000000000000000000001777825ca43a7c9e000000000000000000000000000000000000000000000000000000000000034000000000000000000000000000000000000000000000000000000000000001fb0a012f12f5031f2fe2e8a930cd5d329ff9488ec973d6bb3e0391c9d2fb0c841bcd3483f909f9e28c2b47727382f006890a58318dc10f005c10b1816e7ab86d3f4856e0e44ff71012284017aca0c768aadb3d29085fe1cec3aeac49489f8b2f7d1dcbcfa2d443edb954b934e80233f96bd8c1985102bad34dd636908188d20201f633fb79c5306ab69b4583f3b5d7b7936bcbb8afaca7f073eee85ed3cc53266049fafa2c1bd0e432b2be9b0f46216af83166c4a41250a742aae5d48b76c8969aa09f45619ac63cf6ae56ce4d53d558fc2e41e4dd2df834adbf159f6805fe52408e7a277b6cc2265904673d4d2a1dd3f24e64fe8dae3895c91f32c017cd9d75e1ecb9ab0d0ef4f68b783843ec33b3cc109cb3fd767336fa6a94eb53d7126ff12e1428dc2c8e2d88bc81884c5a37bd17b39de14c53beb44383471e84a1e544fca444857096cfba960f4ebd0b74214bc207b25de8121fb7b84e9af40b0ca8ee976a04b44e3590a1ea7d323ca145362c4dc5140cac480b8f31c775b60388d27b2b0770e742e9e91bb616d3729abe38afa5f0aeaa994654f61a56e1a003926bd5b2956ad87362d75646fc51799533a47ca9b89ce5a9c228bb09f6bf735a9b6501957bbd3efc5cced0cc2a46a07f2158e447cb0d5342ebf22cf7e1f996e3ebbf6b7f27497c2229c71e24da315d34caf804f388b644440a88b56c586d7e50000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004184f0822d3cc5a487a73db8c45f090d357ce02d54a0b27e08d841422dbba2190162a8e20fdd9efdd749b324a895a1b05937dc80eb74ec2b1b4635084f74cf47d98500000000000000000000000000000000000000000000000000000000000000"},
		{"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000060000000000000000000000000f898850df40488f880b2b6b080307af6593ae1b200000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000200001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000020010756dc888e811d6852b3976a24367d9459e4c0761b479d480ce4642952ebf0c8a9c1a176b490186ea8f1bc310045eff02d590282c924c84bcf9ff9551c63110000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000045cbae31627f8a20000000000000000000000000000000000000000000000006db7db778994bef2000000000000000000000000000000000000000000000000cdc9082ba1d0c54a00000000000000000000000000000000000000000000000043b5b015eeb25e360000000000000000000000000000000000000000000000001777825ca43ba54600000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000041caa97d8b064cd93d01146741c27346ca50242ef6807c2ded593028058cc61e88dea952d5ef225c388e3266c43af6db1381735b0b5ac98eb62e5b6f3a85f0eb01df00000000000000000000000000000000000000000000000000000000000000"},
	}
	for _, tc := range cases {
		bz, err := hex.DecodeString(tc.input)
		if err != nil {
			t.Fatal(err)
		}
		proof, err := EthABIDecodeCommitmentProof(bz)
		if err != nil {
			t.Fatal(err)
		}
		bz2, err := EthABIEncodeCommitmentProof(proof)
		if err != nil {
			t.Fatal(err)
		}
		if !bytes.Equal(bz, bz2) {
			t.Fatal("pack/unpack failed")
		}
		hc, err := EthABIDecodeHeaderedCommitment(proof.CommitmentBytes)
		if err != nil {
			t.Fatal(err)
		}
		_, err = hc.GetUpdateClientCommitment()
		if err != nil {
			t.Fatal(err)
		}
	}
}
